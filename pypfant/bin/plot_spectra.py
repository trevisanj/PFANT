#!/usr/bin/python
"""
Runs the 4 exes
"""

import argparse
from pypfant import *
import matplotlib.pyplot as plt

if __name__ == "__main__":
  parser = argparse.ArgumentParser(
    description='',
    formatter_class=argparse.ArgumentDefaultsHelpFormatter
  )

  parser.add_argument('fn', type=str, nargs='+',
                   help='name of spertrum file (either generated by pfant or nulbad)')

  args = parser.parse_args()

  ss = []
  for x in args.fn:
    s = Spectrum()

    print "Trying to read file '%s'..." % x
    # tries to load as pfant ouput; if fails, tries as nulbad output
    try:
      s.read_pfant(x)
      print "... file is pfant output"
    except:
      s.read_nulbad(x)
      print "... file is nulbad output"

    ss.append(s)
  plot_spectra(ss)
  plt.show()